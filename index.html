<!-- AUTO-CONFIG (não remover) -->
<script>
  // URL DO BACKEND (Render)
  window.BACKEND_URL = "https://blackdzstorebackend-1.onrender.com";
</script>
<!-- FIM AUTO-CONFIG -->

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlackDz Store - Sua Loja Gamer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Reset e variáveis CSS */
        :root {
            --primary: #8a2be2;
            --primary-dark: #6a1cb0;
            --secondary: #00ff88;
            --dark: #0a0a0a;
            --darker: #050505;
            --light: #f8f9fa;
            --gray: #6c757d;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --border-radius: 8px;
            --box-shadow: 0 4px 15px rgba(138, 43, 226, 0.2);
            --transition: all 0.3s ease;
            --gamer-gradient: linear-gradient(135deg, #8a2be2, #00ff88);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #0f0f0f;
            color: #fff;
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(138, 43, 226, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 255, 136, 0.1) 0%, transparent 20%);
            min-height: 100vh;
        }
        
        a {
            text-decoration: none;
            color: inherit;
        }
        
        ul {
            list-style: none;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: var(--gamer-gradient);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
            z-index: -1;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(138, 43, 226, 0.4);
        }
        
        .btn-secondary {
            background: #222;
            border: 1px solid var(--primary);
        }
        
        .btn-secondary:hover {
            background: var(--primary);
        }
        
        .btn-success {
            background: var(--success);
        }
        
        .btn-danger {
            background: var(--danger);
        }
        
        /* Header */
        header {
            background-color: rgba(10, 10, 10, 0.95);
            padding: 15px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 2px solid var(--primary);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.8rem;
            font-weight: 700;
            background: var(--gamer-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
        }
        
        .logo i {
            font-size: 2rem;
        }
        
        .nav-links {
            display: flex;
            gap: 25px;
        }
        
        .nav-links a {
            font-weight: 600;
            transition: var(--transition);
            position: relative;
            padding: 5px 0;
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--secondary);
            transition: var(--transition);
        }
        
        .nav-links a:hover {
            color: var(--secondary);
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            color: var(--secondary);
        }
        
        /* Botões de redes sociais no header */
        .social-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #222;
            color: white;
            font-size: 1.2rem;
            transition: var(--transition);
            border: 2px solid transparent;
        }
        
        .social-btn:hover {
            transform: translateY(-3px);
            border-color: var(--primary);
        }
        
        .discord-btn {
            background: #5865F2;
        }
        
        .instagram-btn {
            background: linear-gradient(45deg, #405DE6, #833AB4, #C13584, #E1306C, #FD1D1D);
        }
        
        .whatsapp-btn {
            background: #25D366;
        }
        
        .cart-icon {
            position: relative;
            font-size: 1.3rem;
            cursor: pointer;
            color: var(--secondary);
            transition: var(--transition);
        }
        
        .cart-icon:hover {
            transform: scale(1.1);
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--primary);
            color: white;
            font-size: 0.7rem;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border: 2px solid var(--dark);
        }
        
        .logout-btn {
            background: transparent;
            border: 1px solid var(--danger);
            color: var(--danger);
            padding: 8px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .logout-btn:hover {
            background: var(--danger);
            color: white;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* Telas de Login e Cadastro */
        .auth-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--darker);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            transition: var(--transition);
        }
        
        .auth-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .auth-container {
            background: rgba(20, 20, 20, 0.95);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 400px;
            padding: 40px 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--primary);
            text-align: center;
        }
        
        .auth-container h2 {
            margin-bottom: 30px;
            background: var(--gamer-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2rem;
        }
        
        .auth-form .form-group {
            margin-bottom: 20px;
            text-align: left;
        }
        
        .auth-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--secondary);
        }
        
        .auth-form input {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(138, 43, 226, 0.5);
            border-radius: var(--border-radius);
            color: white;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .auth-form input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
        }
        
        .auth-error {
            color: var(--danger);
            margin-top: 10px;
            font-size: 0.9rem;
            display: none;
        }
        
        .auth-switch {
            margin-top: 20px;
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .auth-switch a {
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
        }
        
        .auth-switch a:hover {
            text-decoration: underline;
        }
        
        /* Hero Section */
        .hero {
            padding: 80px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(138, 43, 226, 0.1) 0%, transparent 70%);
            z-index: -1;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: var(--gamer-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(138, 43, 226, 0.5);
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 40px;
            color: #ccc;
        }
        
        /* Categories Section */
        .categories-section {
            padding: 60px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            font-size: 2.5rem;
            position: relative;
        }
        
        .section-title span {
            background: var(--gamer-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 100px;
            height: 4px;
            background: var(--gamer-gradient);
            margin: 15px auto;
            border-radius: 2px;
        }
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }
        
        .category-card {
            background: rgba(30, 30, 30, 0.8);
            border-radius: var(--border-radius);
            padding: 30px 20px;
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            cursor: pointer;
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gamer-gradient);
        }
        
        .category-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }
        
        .category-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .category-title {
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        /* Products Section */
        .products-section {
            padding: 40px 0 80px;
            display: none;
        }
        
        .back-to-categories {
            margin-bottom: 20px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
            padding: 10px 20px;
            background: rgba(138, 43, 226, 0.1);
            border-radius: var(--border-radius);
            transition: var(--transition);
        }
        
        .back-to-categories:hover {
            background: rgba(138, 43, 226, 0.2);
            transform: translateX(-5px);
        }
        
        /* Subcategorias */
        .subcategories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        
        .subcategory-card {
            background: rgba(40, 40, 40, 0.9);
            border-radius: var(--border-radius);
            padding: 25px 15px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }
        
        .subcategory-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(138, 43, 226, 0.3);
        }
        
        .subcategory-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        .subcategory-title {
            font-weight: 600;
            font-size: 1.2rem;
            color: white;
        }
        
        /* Paginação */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
            gap: 10px;
        }
        
        .page-btn {
            background: rgba(138, 43, 226, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
        }
        
        .page-btn.active {
            background: var(--primary);
        }
        
        .page-btn:hover:not(.active) {
            background: rgba(138, 43, 226, 0.4);
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .product-card {
            background: rgba(30, 30, 30, 0.9);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            border: 1px solid rgba(138, 43, 226, 0.3);
            position: relative;
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }
        
        .product-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--primary);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 2;
        }
        
        .product-image {
            height: 180px;
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.1), rgba(0, 255, 136, 0.1));
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding: 20px;
            position: relative;
        }
        
        .product-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 50%, rgba(10, 10, 10, 0.8) 100%);
        }
        
        .product-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            z-index: 1;
            position: relative;
        }
        
        .product-info {
            padding: 25px;
            position: relative;
            z-index: 2;
        }
        
        .product-category {
            color: var(--secondary);
            font-size: 0.9rem;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .product-title {
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.2rem;
            max-height: 60px;
            overflow: hidden;
        }
        
        .product-description {
            font-size: 0.9rem;
            color: #aaa;
            margin-bottom: 15px;
            max-height: 80px;
            overflow: auto;
            padding-right: 5px;
        }
        
        .product-description::-webkit-scrollbar {
            width: 4px;
        }
        
        .product-description::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .product-description::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }
        
        .product-price {
            color: var(--secondary);
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }
        
        .product-stock {
            font-size: 0.9rem;
            color: #aaa;
            margin-bottom: 15px;
        }
        
        .product-stock.in-stock {
            color: var(--secondary);
        }
        
        .product-stock.low-stock {
            color: var(--warning);
        }
        
        .product-actions {
            display: flex;
            gap: 10px;
        }
        
        .product-actions .btn {
            flex: 1;
            text-align: center;
            padding: 12px 10px;
            font-size: 0.9rem;
        }
        
        /* Cupom Section */
        .coupon-section {
            background: rgba(30, 30, 30, 0.8);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            border: 1px solid var(--primary);
        }
        
        .coupon-form {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .coupon-form input {
            flex: 1;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(138, 43, 226, 0.5);
            border-radius: var(--border-radius);
            color: white;
        }
        
        .coupon-badge {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 5px;
        }
        
        .cupom-products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        /* Admin Panel */
        .admin-panel {
            background: rgba(20, 20, 20, 0.95);
            border-radius: var(--border-radius);
            padding: 30px;
            margin: 30px auto;
            max-width: 1000px;
            border: 2px solid var(--primary);
        }
        
        .admin-panel h2 {
            margin-bottom: 30px;
            text-align: center;
            background: var(--gamer-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(138, 43, 226, 0.3);
            padding-bottom: 10px;
        }
        
        .admin-tab {
            background: transparent;
            border: none;
            color: #aaa;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }
        
        .admin-tab.active {
            background: var(--primary);
            color: white;
        }
        
        .admin-content {
            display: none;
        }
        
        .admin-content.active {
            display: block;
        }
        
        .orders-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .orders-table th {
            background: rgba(138, 43, 226, 0.2);
            padding: 15px;
            text-align: left;
            border-bottom: 2px solid var(--primary);
        }
        
        .orders-table td {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .order-status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .status-pending {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
        }
        
        .status-completed {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
        }
        
        .status-cancelled {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
        }
        
        .chat-messages {
            height: 300px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.3);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(138, 43, 226, 0.3);
        }
        
        .chat-message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: var(--border-radius);
            max-width: 80%;
        }
        
        .message-admin {
            background: rgba(138, 43, 226, 0.2);
            margin-left: auto;
        }
        
        .message-user {
            background: rgba(0, 255, 136, 0.1);
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(138, 43, 226, 0.5);
            border-radius: var(--border-radius);
            color: white;
        }
        
        /* Carrinho de Compras */
        .cart-modal {
            position: fixed;
            top: 0;
            right: -450px;
            width: 420px;
            height: 100%;
            background: rgba(15, 15, 15, 0.98);
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.7);
            transition: var(--transition);
            z-index: 1001;
            display: flex;
            flex-direction: column;
            border-left: 2px solid var(--primary);
        }
        
        .cart-modal.active {
            right: 0;
        }
        
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px;
            border-bottom: 1px solid rgba(138, 43, 226, 0.3);
        }
        
        .cart-header h3 {
            font-size: 1.8rem;
            background: var(--gamer-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .close-cart {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--secondary);
            transition: var(--transition);
        }
        
        .close-cart:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }
        
        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid rgba(138, 43, 226, 0.1);
        }
        
        .cart-item-image {
            width: 70px;
            height: 70px;
            background: rgba(138, 43, 226, 0.1);
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1.8rem;
        }
        
        .cart-item-info {
            flex: 1;
        }
        
        .cart-item-title {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            color: var(--secondary);
            font-weight: 700;
        }
        
        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 8px;
        }
        
        .quantity-btn {
            background: rgba(138, 43, 226, 0.2);
            border: none;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .cart-item-remove {
            background: none;
            border: none;
            color: var(--danger);
            cursor: pointer;
            font-size: 1.2rem;
            margin-left: 10px;
        }
        
        .cart-footer {
            padding: 25px;
            border-top: 1px solid rgba(138, 43, 226, 0.3);
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        .cart-coupon {
            background: rgba(30, 30, 30, 0.7);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            border: 1px solid rgba(138, 43, 226, 0.3);
        }
        
        .cart-coupon h4 {
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        .cart-coupon-input {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .cart-coupon-input input {
            flex: 1;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(138, 43, 226, 0.5);
            border-radius: var(--border-radius);
            color: white;
        }
        
        .coupon-message {
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .coupon-success {
            color: var(--success);
        }
        
        .coupon-error {
            color: var(--danger);
        }
        
        .cart-discount {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #FFD700;
            font-weight: 600;
        }
        
        .cart-final-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--secondary);
            border-top: 2px solid var(--primary);
            padding-top: 10px;
        }
        
        .cart-actions {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .cart-actions .btn {
            width: 100%;
            text-align: center;
        }
        
        .empty-cart-message {
            text-align: center;
            padding: 60px 20px;
            color: #777;
        }
        
        .empty-cart-message i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: rgba(138, 43, 226, 0.3);
        }
        
        /* Modal de Pagamento */
        .checkout-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1002;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .checkout-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .checkout-content {
            background: rgba(20, 20, 20, 0.95);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            padding: 40px 30px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);
            border: 2px solid var(--primary);
            position: relative;
        }
        
        .close-checkout {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--secondary);
        }
        
        .checkout-content h2 {
            margin-bottom: 25px;
            text-align: center;
            background: var(--gamer-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.2rem;
        }
        
        .checkout-content h3 {
            margin: 25px 0 15px;
            color: var(--secondary);
            font-size: 1.3rem;
        }
        
        .order-summary {
            background: rgba(30, 30, 30, 0.7);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            border-left: 4px solid var(--primary);
        }
        
        .order-summary h4 {
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        .order-items {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 15px;
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .order-discount {
            display: flex;
            justify-content: space-between;
            color: #FFD700;
            margin: 5px 0;
        }
        
        .order-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            font-size: 1.2rem;
            margin-top: 10px;
            color: var(--secondary);
        }
        
        .payment-instructions {
            background: rgba(30, 30, 30, 0.7);
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            border-left: 4px solid var(--secondary);
        }
        
        .payment-instructions p {
            margin-bottom: 10px;
        }
        
        .pix-key {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            margin: 15px 0;
            border: 1px dashed var(--primary);
            font-weight: bold;
            font-size: 1.1rem;
            word-break: break-all;
        }
        
        .contact-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 25px;
        }
        
        .contact-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 15px;
            border-radius: var(--border-radius);
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .contact-btn.whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
        }
        
        .contact-btn.instagram {
            background: linear-gradient(135deg, #405DE6, #833AB4, #C13584, #E1306C, #FD1D1D);
            color: white;
        }
        
        .contact-btn.discord {
            background: linear-gradient(135deg, #5865F2, #404EED);
            color: white;
        }
        
        .contact-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        /* Categoria Escolher Jogo */
        .game-selection-container {
            background: rgba(30, 30, 30, 0.9);
            padding: 30px;
            border-radius: var(--border-radius);
            margin-top: 30px;
            border: 1px solid var(--primary);
        }
        
        .game-search {
            margin-bottom: 30px;
        }
        
        .game-search input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--primary);
            border-radius: var(--border-radius);
            color: white;
            font-size: 1rem;
        }
        
        .suggested-games {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .suggested-game {
            background: rgba(40, 40, 40, 0.9);
            padding: 20px;
            border-radius: var(--border-radius);
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid transparent;
        }
        
        .suggested-game:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
        }
        
        .suggested-game i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        /* Estilo para categorias especiais */
        .special-category {
            background: linear-gradient(135deg, rgba(255, 107, 0, 0.1), rgba(255, 215, 0, 0.1)) !important;
            border: 1px solid rgba(255, 107, 0, 0.5) !important;
        }
        
        .special-category .category-icon {
            color: #FF6B00 !important;
        }
        
        .special-category .category-title {
            color: #FFA500 !important;
        }
        
        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Ocultar elemento sublinhado azil */
        .sublinhado-azil,
        [class*="sublinhado"],
        [class*="underline"],
        .texto-azil-circulado,
        a.blue-underline,
        a[href="#"] {
            display: none !important;
            visibility: hidden !important;
        }
        
        /* Responsividade */
        @media (max-width: 992px) {
            .nav-links {
                gap: 15px;
            }
            
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
            
            .header-actions {
                gap: 10px;
            }
            
            .social-btn {
                width: 36px;
                height: 36px;
                font-size: 1.1rem;
            }
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            
            .nav-links {
                position: fixed;
                top: 70px;
                left: -100%;
                flex-direction: column;
                background: rgba(10, 10, 10, 0.98);
                width: 100%;
                padding: 30px 20px;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
                transition: var(--transition);
                z-index: 999;
                border-top: 2px solid var(--primary);
                border-bottom: 2px solid var(--primary);
            }
            
            .nav-links.active {
                left: 0;
            }
            
            .hero h1 {
                font-size: 2.3rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .cart-modal {
                width: 100%;
                right: -100%;
            }
            
            .categories-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .header-actions {
                flex-wrap: wrap;
                justify-content: flex-end;
                gap: 8px;
            }
            
            .user-info {
                order: 1;
                width: 100%;
                justify-content: flex-end;
                margin-bottom: 5px;
            }
            
            .social-btn {
                width: 34px;
                height: 34px;
                font-size: 1rem;
            }
            
            .cart-icon {
                font-size: 1.2rem;
            }
            
            .logout-btn {
                padding: 6px 12px;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 576px) {
            .header-container {
                flex-wrap: wrap;
            }
            
            .logo {
                font-size: 1.5rem;
            }
            
            .hero {
                padding: 50px 0;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .categories-grid {
                grid-template-columns: 1fr;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .product-actions {
                flex-direction: column;
            }
            
            .checkout-content {
                padding: 30px 20px;
            }
            
            .header-actions {
                gap: 6px;
            }
            
            .social-btn {
                width: 32px;
                height: 32px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Tela de Login -->
    <div class="auth-screen" id="login-screen">
        <div class="auth-container" id="login-container">
            <h2>BlackDz Store</h2>
            <p style="margin-bottom: 30px; color: #aaa;">Faça login para continuar</p>
            
            <form class="auth-form" id="login-form">
                <div class="form-group">
                    <label for="username">Usuário</label>
                    <input type="text" id="username" placeholder="Digite seu usuário" required>
                </div>
                
                <div class="form-group">
                    <label for="password">Senha</label>
                    <input type="password" id="password" placeholder="Digite sua senha" required>
                </div>
                
                <div class="auth-error" id="login-error">
                    Usuário ou senha incorretos!
                </div>
                
                <button type="submit" class="btn" style="width: 100%; margin-top: 20px;">
                    <i class="fas fa-sign-in-alt"></i> Entrar
                </button>
            </form>
            
            <div class="auth-switch">
                Não tem conta? <a id="go-to-register">Cadastre-se aqui</a>
            </div>
        </div>
    </div>

    <!-- Tela de Cadastro (separada) -->
    <div class="auth-screen hidden" id="register-screen">
        <div class="auth-container" id="register-container">
            <h2>Criar Conta</h2>
            <p style="margin-bottom: 30px; color: #aaa;">Preencha os dados para criar sua conta</p>
            
            <form class="auth-form" id="register-form">
                <div class="form-group">
                    <label for="reg-username">Usuário</label>
                    <input type="text" id="reg-username" placeholder="Escolha um nome de usuário" required>
                </div>
                
                <div class="form-group">
                    <label for="reg-email">Email</label>
                    <input type="email" id="reg-email" placeholder="Digite seu email" required>
                </div>
                
                <div class="form-group">
                    <label for="reg-password">Senha</label>
                    <input type="password" id="reg-password" placeholder="Crie uma senha (mínimo 6 caracteres)" required>
                </div>
                
                <div class="form-group">
                    <label for="reg-confirm-password">Confirmar Senha</label>
                    <input type="password" id="reg-confirm-password" placeholder="Confirme sua senha" required>
                </div>
                
                <div class="auth-error" id="register-error">
                    As senhas não coincidem!
                </div>
                
                <button type="submit" class="btn" style="width: 100%; margin-top: 20px;">
                    <i class="fas fa-user-plus"></i> Criar Conta
                </button>
            </form>
            
            <div class="auth-switch">
                Já tem conta? <a id="go-to-login">Faça login</a>
            </div>
        </div>
    </div>

    <!-- Conteúdo principal (inicialmente oculto) -->
    <div id="main-content" style="display: none;">
        <!-- Header -->
        <header>
            <div class="container header-container">
                <a href="#" class="logo">
                    <i class="fas fa-gamepad"></i>
                    <span>BlackDz Store</span>
                </a>
                
                <button class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
                
                <nav>
                    <ul class="nav-links">
                        <li><a href="#" class="nav-category" data-category="all">Início</a></li>
                        <li><a href="#" class="nav-category" data-category="streamings">Streamings</a></li>
                        <li><a href="#" class="nav-category" data-category="xbox">Xbox/Game Pass</a></li>
                        <li><a href="#" class="nav-category" data-category="discord">Discord</a></li>
                        <li><a href="#" class="nav-category" data-category="steam">Steam</a></li>
                        <li><a href="#" class="nav-category" data-category="roblox">Contas Roblox</a></li>
                        <li><a href="#" class="nav-category" data-category="bloxfruits">Blox Fruits</a></li>
                        <li><a href="#" class="nav-category" data-category="scripts">Scripts DBC</a></li>
                        <li><a href="#" class="nav-category" data-category="fortnite">Fortnite</a></li>
                        <li><a href="#" class="nav-category" data-category="valorant">Valorant</a></li>
                        <li><a href="#" class="nav-category" data-category="minecraft">Minecraft</a></li>
                        <li><a href="#" class="nav-category" data-category="gta">GTA V</a></li>
                        <li><a href="#" class="nav-category" data-category="dbrage">Dragon Ball Rage</a></li>
                        <li><a href="#" class="nav-category" data-category="cupons">Cupons</a></li>
                        <li><a href="#" class="nav-category" data-category="pedir-jogo">Pedir Jogo</a></li>
                        <li><a href="#" class="nav-category" data-category="pedir-item">Pedir Item</a></li>
                        <li><a href="#" class="nav-category" data-category="admin" id="admin-link" style="color: #FFD700; display: none;">
                            <i class="fas fa-crown"></i> Admin
                        </a></li>
                    </ul>
                </nav>
                
                <div class="header-actions">
                    <div class="user-info">
                        <i class="fas fa-user"></i>
                        <span id="logged-user">Usuário</span>
                    </div>
                    
                    <!-- Botões de Redes Sociais -->
                    <a href="https://discord.gg/3qg2E7UPwV" target="_blank" class="social-btn discord-btn" title="Discord">
                        <i class="fab fa-discord"></i>
                    </a>
                    
                    <a href="http://instagram.com/o.dz.dev" target="_blank" class="social-btn instagram-btn" title="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    
                    <a href="https://wa.me/5522981636278" target="_blank" class="social-btn whatsapp-btn" title="WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    
                    <div class="cart-icon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </div>
                    
                    <button class="logout-btn" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <h1>BLACKDZ STORE</h1>
                <p>A melhor loja de produtos digitais para gamers! Compre keys, scripts, contas e muito mais com segurança e os melhores preços.</p>
                <div style="margin-top: 20px; background: rgba(138, 43, 226, 0.2); padding: 15px; border-radius: var(--border-radius); display: inline-block;">
                    <i class="fas fa-tag" style="color: #FFD700; margin-right: 8px;"></i>
                    <strong>Cupom de 5% de desconto:</strong> BLACKDZ5
                </div>
                <a href="#categories" class="btn" style="margin-top: 20px;">Explorar Produtos</a>
            </div>
        </section>

        <!-- Categories Section -->
        <section class="categories-section container" id="categories">
            <h2 class="section-title">Nossas <span>Categorias</span></h2>
            <div class="categories-grid">
                <!-- Streamings -->
                <div class="category-card" data-category="streamings">
                    <div class="category-icon">
                        <i class="fas fa-film" style="color: #E50914;"></i>
                    </div>
                    <h3 class="category-title">Streamings</h3>
                    <p class="category-desc">Netflix, Crunchyroll, Canva e mais</p>
                </div>
                
                <!-- Xbox/Game Pass -->
                <div class="category-card" data-category="xbox">
                    <div class="category-icon">
                        <i class="fab fa-xbox" style="color: #107C10;"></i>
                    </div>
                    <h3 class="category-title">Xbox/Game Pass</h3>
                    <p class="category-desc">Game Pass Ultimate, contas e mais</p>
                </div>
                
                <!-- Discord -->
                <div class="category-card" data-category="discord">
                    <div class="category-icon">
                        <i class="fab fa-discord" style="color: #5865F2;"></i>
                    </div>
                    <h3 class="category-title">Discord</h3>
                    <p class="category-desc">Nitro, decorações e gift cards</p>
                </div>
                
                <!-- Steam -->
                <div class="category-card" data-category="steam">
                    <div class="category-icon">
                        <i class="fab fa-steam" style="color: #171A21;"></i>
                    </div>
                    <h3 class="category-title">Steam</h3>
                    <p class="category-desc">Keys aleatórias, jogos e gift cards</p>
                </div>
                
                <!-- Contas Roblox -->
                <div class="category-card" data-category="roblox">
                    <div class="category-icon">
                        <i class="fas fa-robot" style="color: #FF1D25;"></i>
                    </div>
                    <h3 class="category-title">Contas Roblox</h3>
                    <p class="category-desc">Contas antigas de Roblox</p>
                </div>
                
                <!-- Blox Fruits -->
                <div class="category-card" data-category="bloxfruits">
                    <div class="category-icon">
                        <i class="fas fa-dragon" style="color: #FF6B00;"></i>
                    </div>
                    <h3 class="category-title">Blox Fruits</h3>
                    <p class="category-desc">Gamepass, frutas permanentes, contas</p>
                </div>
                
                <!-- Scripts DBC -->
                <div class="category-card" data-category="scripts">
                    <div class="category-icon">
                        <i class="fas fa-code" style="color: #00ff88;"></i>
                    </div>
                    <h3 class="category-title">Scripts DBC</h3>
                    <p class="category-desc">Scripts para Dragon Block C</p>
                </div>
                
                <!-- Fortnite -->
                <div class="category-card" data-category="fortnite">
                    <div class="category-icon">
                        <i class="fas fa-skull-crossbones" style="color: #00C7FF;"></i>
                    </div>
                    <h3 class="category-title">Fortnite</h3>
                    <p class="category-desc">Contas, V-Bucks e itens</p>
                </div>
                
                <!-- Valorant -->
                <div class="category-card" data-category="valorant">
                    <div class="category-icon">
                        <i class="fas fa-crosshairs" style="color: #FF4655;"></i>
                    </div>
                    <h3 class="category-title">Valorant</h3>
                    <p class="category-desc">Contas, pontos e skins</p>
                </div>
                
                <!-- Minecraft -->
                <div class="category-card" data-category="minecraft">
                    <div class="category-icon">
                        <i class="fas fa-cube" style="color: #6CAE3A;"></i>
                    </div>
                    <h3 class="category-title">Minecraft</h3>
                    <p class="category-desc">Licença Java + Bedrock</p>
                </div>
                
                <!-- GTA V -->
                <div class="category-card" data-category="gta">
                    <div class="category-icon">
                        <i class="fas fa-car" style="color: #2ECC71;"></i>
                    </div>
                    <h3 class="category-title">GTA V</h3>
                    <p class="category-desc">Contas Rockstar e Steam</p>
                </div>
                
                <!-- Dragon Ball Rage -->
                <div class="category-card" data-category="dbrage">
                    <div class="category-icon">
                        <i class="fas fa-dragon" style="color: #FF0000;"></i>
                    </div>
                    <h3 class="category-title">Dragon Ball Rage</h3>
                    <p class="category-desc">Forms, boosts e customizações</p>
                </div>
                
                <!-- Cupons -->
                <div class="category-card special-category" data-category="cupons">
                    <div class="category-icon">
                        <i class="fas fa-tag" style="color: #FFD700;"></i>
                    </div>
                    <h3 class="category-title">Cupons</h3>
                    <p class="category-desc">Compre cupons de desconto</p>
                </div>
                
                <!-- Pedir Jogo -->
                <div class="category-card special-category" data-category="pedir-jogo">
                    <div class="category-icon">
                        <i class="fas fa-gamepad" style="color: #FF6B00;"></i>
                    </div>
                    <h3 class="category-title">Pedir Jogo</h3>
                    <p class="category-desc">Peça qualquer jogo da Steam</p>
                </div>
                
                <!-- Pedir Item para Loja -->
                <div class="category-card special-category" data-category="pedir-item">
                    <div class="category-icon">
                        <i class="fas fa-shopping-bag" style="color: #FFD700;"></i>
                    </div>
                    <h3 class="category-title">Pedir Item</h3>
                    <p class="category-desc">Solicite um item específico</p>
                </div>
            </div>
        </section>

        <!-- Products Sections -->
        <!-- Streamings -->
        <section class="products-section container" id="products-streamings">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Produtos <span>Streamings</span></h2>
            <div class="products-grid" id="streamings-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Xbox/Game Pass -->
        <section class="products-section container" id="products-xbox">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Produtos <span>Xbox/Game Pass</span></h2>
            <div class="products-grid" id="xbox-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Discord -->
        <section class="products-section container" id="products-discord">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Produtos <span>Discord</span></h2>
            <div class="products-grid" id="discord-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Steam -->
        <section class="products-section container" id="products-steam">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Produtos <span>Steam</span></h2>
            <div class="products-grid" id="steam-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Contas Roblox -->
        <section class="products-section container" id="products-roblox">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Contas <span>Roblox</span></h2>
            <div class="products-grid" id="roblox-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Blox Fruits -->
        <section class="products-section container" id="products-bloxfruits">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Blox <span>Fruits</span></h2>
            
            <div class="subcategories-grid">
                <!-- Gamepass -->
                <div class="subcategory-card" data-subcategory="gamepass">
                    <div class="subcategory-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="subcategory-title">Gamepass</h3>
                    <p style="color: #aaa; font-size: 0.9rem;">Gamepasses do Blox Fruits</p>
                </div>
                
                <!-- Frutas Permanentes -->
                <div class="subcategory-card" data-subcategory="frutas-permanentes">
                    <div class="subcategory-icon">
                        <i class="fas fa-apple-alt"></i>
                    </div>
                    <h3 class="subcategory-title">Frutas Permanentes</h3>
                    <p style="color: #aaa; font-size: 0.9rem;">Frutas permanentes do Blox Fruits</p>
                </div>
                
                <!-- Contas -->
                <div class="subcategory-card" data-subcategory="contas">
                    <div class="subcategory-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3 class="subcategory-title">Contas</h3>
                    <p style="color: #aaa; font-size: 0.9rem;">Contas de Blox Fruits</p>
                </div>
            </div>
            
            <!-- Gamepass -->
            <div class="products-grid" id="bloxfruits-gamepass" style="display: none;">
                <!-- Gamepasses serão inseridos via JavaScript -->
            </div>
            
            <!-- Frutas Permanentes -->
            <div class="products-grid" id="bloxfruits-frutas-permanentes" style="display: none;">
                <!-- Frutas permanentes serão inseridos via JavaScript -->
            </div>
            
            <!-- Contas -->
            <div class="products-grid" id="bloxfruits-contas" style="display: none;">
                <!-- Contas serão inseridos via JavaScript -->
            </div>
            
            <!-- Paginação -->
            <div class="pagination" id="bloxfruits-pagination" style="display: none;"></div>
        </section>

        <!-- Scripts DBC -->
        <section class="products-section container" id="products-scripts">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Scripts <span>Dragon Block C</span></h2>
            <div class="products-grid" id="scripts-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Fortnite -->
        <section class="products-section container" id="products-fortnite">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Produtos <span>Fortnite</span></h2>
            <div class="products-grid" id="fortnite-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Valorant -->
        <section class="products-section container" id="products-valorant">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Produtos <span>Valorant</span></h2>
            <div class="products-grid" id="valorant-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Minecraft -->
        <section class="products-section container" id="products-minecraft">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Produtos <span>Minecraft</span></h2>
            <div class="products-grid" id="minecraft-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- GTA V -->
        <section class="products-section container" id="products-gta">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Produtos <span>GTA V</span></h2>
            <div class="products-grid" id="gta-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Dragon Ball Rage -->
        <section class="products-section container" id="products-dbrage">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Dragon Ball <span>Rage</span></h2>
            <div class="products-grid" id="dbrage-products">
                <!-- Produtos serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Cupons -->
        <section class="products-section container" id="products-cupons">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Cupons de <span>Desconto</span></h2>
            
            <div class="coupon-section">
                <h3 style="color: var(--secondary); margin-bottom: 15px;">
                    <i class="fas fa-tag"></i> Cupons Disponíveis
                </h3>
                <div style="margin-bottom: 15px;">
                    <p><i class="fas fa-gift" style="color: #FFD700; margin-right: 8px;"></i> 
                        <strong>Cupom Gratuito:</strong> <span class="coupon-badge">BLACKDZ5</span> - 5% de desconto (uso único por pessoa)
                    </p>
                    <p style="font-size: 0.9rem; color: #aaa; margin-top: 5px;">
                        Use o cupom <strong>BLACKDZ5</strong> na finalização da compra para receber 5% de desconto!
                    </p>
                </div>
                
                <div style="margin-top: 20px; background: rgba(255, 215, 0, 0.1); padding: 15px; border-radius: var(--border-radius);">
                    <h4 style="color: #FFD700; margin-bottom: 10px;">
                        <i class="fas fa-crown"></i> Cupons Premium
                    </h4>
                    <p style="color: #ccc; margin-bottom: 15px;">
                        Compre cupons de desconto permanente para usar em todas as suas compras!
                    </p>
                </div>
            </div>
            
            <div class="cupom-products-grid" id="cupons-products">
                <!-- Cupons serão inseridos via JavaScript -->
            </div>
        </section>

        <!-- Pedir Jogo -->
        <section class="products-section container" id="products-pedir-jogo">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Pedir <span>Jogo</span></h2>
            
            <div class="game-selection-container">
                <p style="color: #ccc; margin-bottom: 20px; text-align: center;">
                    Escolha um jogo da lista ou solicite outro que não esteja listado.
                </p>
                
                <div class="game-search">
                    <input type="text" id="game-search-input" placeholder="Digite o nome do jogo que deseja...">
                </div>
                
                <h3 style="color: var(--secondary); margin: 30px 0 20px; text-align: center;">Jogos Populares</h3>
                <div class="suggested-games">
                    <div class="suggested-game" data-game="Red Dead Redemption 2">
                        <i class="fas fa-horse"></i>
                        <h4>Red Dead Redemption 2</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Cyberpunk 2077">
                        <i class="fas fa-city"></i>
                        <h4>Cyberpunk 2077</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Elden Ring">
                        <i class="fas fa-crown"></i>
                        <h4>Elden Ring</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="The Witcher 3">
                        <i class="fas fa-dragon"></i>
                        <h4>The Witcher 3</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Call of Duty: Modern Warfare II">
                        <i class="fas fa-gun"></i>
                        <h4>COD: Modern Warfare II</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="FIFA 23">
                        <i class="fas fa-futbol"></i>
                        <h4>FIFA 23</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="God of War">
                        <i class="fas fa-axe"></i>
                        <h4>God of War</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Spider-Man: Miles Morales">
                        <i class="fas fa-spider"></i>
                        <h4>Spider-Man: Miles Morales</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Hogwarts Legacy">
                        <i class="fas fa-hat-wizard"></i>
                        <h4>Hogwarts Legacy</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Resident Evil 4 Remake">
                        <i class="fas fa-virus"></i>
                        <h4>Resident Evil 4 Remake</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Diablo IV">
                        <i class="fas fa-skull"></i>
                        <h4>Diablo IV</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Star Wars Jedi: Survivor">
                        <i class="fas fa-jedi"></i>
                        <h4>Star Wars Jedi: Survivor</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Dead Space Remake">
                        <i class="fas fa-space-shuttle"></i>
                        <h4>Dead Space Remake</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Street Fighter 6">
                        <i class="fas fa-fist-raised"></i>
                        <h4>Street Fighter 6</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Final Fantasy XVI">
                        <i class="fas fa-sword"></i>
                        <h4>Final Fantasy XVI</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Baldur's Gate 3">
                        <i class="fas fa-dice-d20"></i>
                        <h4>Baldur's Gate 3</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Dead Island 2">
                        <i class="fas fa-biohazard"></i>
                        <h4>Dead Island 2</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Atomic Heart">
                        <i class="fas fa-atom"></i>
                        <h4>Atomic Heart</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Forza Horizon 5">
                        <i class="fas fa-car"></i>
                        <h4>Forza Horizon 5</h4>
                        <p>Consultar preço</p>
                    </div>
                    <div class="suggested-game" data-game="Halo Infinite">
                        <i class="fas fa-helmet-battle"></i>
                        <h4>Halo Infinite</h4>
                        <p>Consultar preço</p>
                    </div>
                </div>
                
                <div style="margin-top: 30px; text-align: center;">
                    <p style="color: #aaa; margin-bottom: 15px;">Não encontrou o jogo que procura?</p>
                    <button class="btn btn-secondary" id="request-game-btn">
                        <i class="fas fa-comment"></i> Pedir Outro Jogo
                    </button>
                </div>
            </div>
        </section>

        <!-- Pedir Item para Loja -->
        <section class="products-section container" id="products-pedir-item">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Pedir <span>Item para Loja</span></h2>
            
            <div class="game-selection-container">
                <div style="text-align: center; margin-bottom: 30px;">
                    <i class="fas fa-shopping-bag" style="font-size: 4rem; color: #FFD700; margin-bottom: 20px;"></i>
                    <h3 style="color: var(--secondary); margin-bottom: 15px;">Não encontrou o produto que procura?</h3>
                    <p style="color: #ccc; max-width: 600px; margin: 0 auto;">
                        Se você está procurando um item específico que não encontrou em nossa loja, 
                        podemos tentar conseguir para você! Entre em contato pelo WhatsApp e faça sua solicitação.
                    </p>
                </div>
                
                <div style="text-align: center; margin-top: 40px;">
                    <button class="btn" id="request-item-btn" style="padding: 15px 40px; font-size: 1.1rem;">
                        <i class="fab fa-whatsapp"></i> Pedir Item pelo WhatsApp
                    </button>
                    <p style="color: #aaa; margin-top: 15px;">
                        Respondemos em até 24 horas com orçamento e disponibilidade.
                    </p>
                </div>
                
                <div style="margin-top: 40px; background: rgba(40, 40, 40, 0.7); padding: 25px; border-radius: var(--border-radius);">
                    <h4 style="color: var(--secondary); margin-bottom: 15px;">Como funciona?</h4>
                    <ol style="color: #ccc; padding-left: 20px; line-height: 1.8;">
                        <li>Entre em contato pelo botão acima</li>
                        <li>Informe o item que deseja (jogo, conta, produto digital, etc.)</li>
                        <li>Receba o orçamento e prazo de entrega</li>
                        <li>Faça o pagamento e receba seu produto!</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Painel de Administrador -->
        <section class="products-section container" id="products-admin">
            <div class="back-to-categories">
                <i class="fas fa-arrow-left"></i>
                Voltar para categorias
            </div>
            <h2 class="section-title">Painel de <span>Administrador</span></h2>
            
            <div class="admin-panel">
                <div class="admin-tabs">
                    <button class="admin-tab active" data-tab="orders">Pedidos</button>
                    <button class="admin-tab" data-tab="chat">Chat com Clientes</button>
                    <button class="admin-tab" data-tab="coupons">Gerenciar Cupons</button>
                </div>
                
                <!-- Pedidos -->
                <div class="admin-content active" id="orders-content">
                    <h3 style="color: var(--secondary); margin-bottom: 20px;">
                        <i class="fas fa-shopping-cart"></i> Pedidos Recentes
                    </h3>
                    <div id="orders-list">
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Cliente</th>
                                    <th>Produtos</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="orders-table-body">
                                <!-- Pedidos serão inseridos via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Chat -->
                <div class="admin-content" id="chat-content">
                    <h3 style="color: var(--secondary); margin-bottom: 20px;">
                        <i class="fas fa-comments"></i> Chat com Clientes
                    </h3>
                    <div class="chat-messages" id="chat-messages">
                        <!-- Mensagens serão inseridas via JavaScript -->
                    </div>
                    <div class="chat-input">
                        <input type="text" id="chat-input" placeholder="Digite sua mensagem...">
                        <button class="btn" id="send-message-btn">
                            <i class="fas fa-paper-plane"></i> Enviar
                        </button>
                    </div>
                </div>
                
                <!-- Cupons -->
                <div class="admin-content" id="coupons-content">
                    <h3 style="color: var(--secondary); margin-bottom: 20px;">
                        <i class="fas fa-tag"></i> Gerenciar Cupons
                    </h3>
                    <div style="margin-bottom: 20px;">
                        <button class="btn" id="create-coupon-btn">
                            <i class="fas fa-plus"></i> Criar Novo Cupom
                        </button>
                    </div>
                    <div id="coupons-list">
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>Código</th>
                                    <th>Desconto</th>
                                    <th>Tipo</th>
                                    <th>Usos</th>
                                    <th>Status</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="coupons-table-body">
                                <!-- Cupons serão inseridos via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Carrinho de Compras -->
        <div class="cart-modal">
            <div class="cart-header">
                <h3>Meu Carrinho</h3>
                <button class="close-cart">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="cart-items" id="cart-items">
                <!-- Itens do carrinho serão inseridos aqui -->
                <div class="empty-cart-message">
                    <i class="fas fa-shopping-cart"></i>
                    <p>Seu carrinho está vazio</p>
                </div>
            </div>
            <div class="cart-footer">
                <div class="cart-total">
                    <span>Subtotal:</span>
                    <span id="cart-subtotal">R$ 0,00</span>
                </div>
                
                <div class="cart-coupon">
                    <h4>Aplicar Cupom de Desconto</h4>
                    <div class="cart-coupon-input">
                        <input type="text" id="coupon-code" placeholder="Digite o código do cupom">
                        <button class="btn btn-secondary" id="apply-coupon-btn">Aplicar</button>
                    </div>
                    <div class="coupon-message" id="coupon-message"></div>
                </div>
                
                <div class="cart-discount" id="cart-discount" style="display: none;">
                    <span>Desconto:</span>
                    <span id="discount-amount">-R$ 0,00</span>
                </div>
                
                <div class="cart-final-total">
                    <span>Total:</span>
                    <span id="cart-total">R$ 0,00</span>
                </div>
                
                <div class="cart-actions">
                    <button class="btn btn-success" id="checkout-btn">Finalizar Compra</button>
                    <button class="btn btn-danger" id="clear-cart">Limpar Carrinho</button>
                </div>
            </div>
        </div>

        <!-- Modal de Pagamento -->
        <div class="checkout-modal">
            <div class="checkout-content">
                <button class="close-checkout">
                    <i class="fas fa-times"></i>
                </button>
                <h2>Finalizar Compra</h2>
                
                <div class="order-summary">
                    <h4>Resumo do Pedido</h4>
                    <div class="order-items" id="order-items">
                        <!-- Itens do pedido serão inseridos aqui -->
                    </div>
                    <div class="order-discount" id="order-discount" style="display: none;">
                        <span>Desconto:</span>
                        <span id="discount-summary">-R$ 0,00</span>
                    </div>
                    <div class="order-total">
                        <span>Total:</span>
                        <span id="order-total">R$ 0,00</span>
                    </div>
                </div>
                
                <div class="payment-instructions">
                    <h3>Instruções de Pagamento</h3>
                    <p>Para finalizar sua compra, faça o pagamento via PIX para a chave abaixo:</p>
                    <div class="pix-key" id="pix-key">22981636278</div>
                    <p><strong>Valor Total: <span id="checkout-total">R$ 0,00</span></strong></p>
                    <p>Após o pagamento, <strong>envie o comprovante</strong> por um dos canais abaixo para que possamos entregar seu produto.</p>
                    <p style="color: var(--secondary); margin-top: 10px;">Inclua no comprovante: Nome do produto e número do pedido.</p>
                </div>
                
                <h3>Enviar Comprovante</h3>
                <div class="contact-options">
                    <button class="contact-btn whatsapp" id="whatsapp-btn">
                        <i class="fab fa-whatsapp"></i>
                        WhatsApp: (22) 98163-6278
                    </button>
                    <button class="contact-btn discord" id="discord-btn">
                        <i class="fab fa-discord"></i>
                        Discord: BlackDz Store
                    </button>
                </div>
                
                <p style="margin-top: 20px; font-size: 0.9rem; color: #aaa; text-align: center;">
                    Após enviar o comprovante, seu produto será entregue em até 24 horas.
                </p>
            </div>
        </div>

        <!-- Overlay para modais -->
        <div class="overlay"></div>
    </div>

    <script>
        // Sistema de Administração
        class AdminSystem {
            constructor() {
                this.orders = JSON.parse(localStorage.getItem('blackdz_orders')) || [];
                this.messages = JSON.parse(localStorage.getItem('blackdz_messages')) || [];
                this.coupons = JSON.parse(localStorage.getItem('blackdz_coupons')) || this.getDefaultCoupons();
                this.saveAll();
            }
            
            getDefaultCoupons() {
                return [
                    {
                        id: 'BLACKDZ5',
                        code: 'BLACKDZ5',
                        discount: 5,
                        type: 'percentage',
                        isActive: true,
                        isSingleUse: true,
                        usedBy: [],
                        createdBy: 'system'
                    },
                    {
                        id: 'BLACKDZ10',
                        code: 'BLACKDZ10',
                        discount: 10,
                        type: 'percentage',
                        isActive: true,
                        isSingleUse: true,
                        usedBy: [],
                        createdBy: 'system'
                    }
                ];
            }
            
            saveAll() {
                localStorage.setItem('blackdz_orders', JSON.stringify(this.orders));
                localStorage.setItem('blackdz_messages', JSON.stringify(this.messages));
                localStorage.setItem('blackdz_coupons', JSON.stringify(this.coupons));
            }
            
            // Pedidos
            createOrder(orderData) {
                const order = {
                    id: Date.now(),
                    ...orderData,
                    status: 'pending',
                    createdAt: new Date().toISOString()
                };
                this.orders.unshift(order);
                this.saveAll();
                return order;
            }
            
            getOrders() {
                return this.orders;
            }
            
            updateOrderStatus(orderId, status) {
                const order = this.orders.find(o => o.id === orderId);
                if (order) {
                    order.status = status;
                    this.saveAll();
                    return true;
                }
                return false;
            }
            
            // Mensagens
            sendMessage(sender, message, isAdmin = false) {
                const msg = {
                    id: Date.now(),
                    sender,
                    message,
                    isAdmin,
                    timestamp: new Date().toISOString()
                };
                this.messages.push(msg);
                this.saveAll();
                return msg;
            }
            
            getMessages() {
                return this.messages;
            }
            
            // Cupons
            createCoupon(code, discount, type = 'percentage', isSingleUse = false) {
                const coupon = {
                    id: code,
                    code: code.toUpperCase(),
                    discount,
                    type,
                    isActive: true,
                    isSingleUse,
                    usedBy: [],
                    createdBy: currentUser.username,
                    createdAt: new Date().toISOString()
                };
                this.coupons.push(coupon);
                this.saveAll();
                return coupon;
            }
            
            getCoupons() {
                return this.coupons;
            }
            
            validateCoupon(code, userId) {
                const coupon = this.coupons.find(c => c.code === code.toUpperCase() && c.isActive);
                if (!coupon) return { valid: false, message: 'Cupom inválido' };
                
                if (coupon.isSingleUse && coupon.usedBy.includes(userId)) {
                    return { valid: false, message: 'Cupom já utilizado' };
                }
                
                return { 
                    valid: true, 
                    discount: coupon.discount, 
                    type: coupon.type,
                    couponId: coupon.id 
                };
            }
            
            useCoupon(code, userId) {
                const coupon = this.coupons.find(c => c.code === code.toUpperCase());
                if (coupon && coupon.isSingleUse) {
                    if (!coupon.usedBy.includes(userId)) {
                        coupon.usedBy.push(userId);
                        this.saveAll();
                    }
                }
            }
            
            toggleCoupon(code) {
                const coupon = this.coupons.find(c => c.code === code.toUpperCase());
                if (coupon) {
                    coupon.isActive = !coupon.isActive;
                    this.saveAll();
                    return coupon.isActive;
                }
                return false;
            }
        }

        // Dados dos produtos atualizados
        const productsData = {
            // Streamings atualizados
            streamings: [
                { 
                    id: 1, 
                    name: "Crunchyroll + Canva (30 dias)", 
                    price: 5.00, 
                    image: "🎬", 
                    category: "Streamings",
                    description: "Contas compartilhadas do Crunchyroll e Canva Premium por 30 dias",
                    stock: 999
                },
                { 
                    id: 2, 
                    name: "Monte seu Combo de 3 Streamings", 
                    price: 25.99, 
                    image: "📺", 
                    category: "Streamings",
                    description: "Escolha 3 serviços de streaming (Netflix, Prime Video, Paramount+, Crunchyroll, Canva, etc.)",
                    stock: 999
                },
                { 
                    id: 3, 
                    name: "Pacote Completo Streamings", 
                    price: 35.00, 
                    image: "🎬", 
                    category: "Streamings",
                    description: "Acesso a múltiplas plataformas de streaming em uma única compra",
                    stock: 999
                }
            ],
            
            // Xbox/Game Pass (mantido)
            xbox: [
                { 
                    id: 4, 
                    name: "Xbox Game Pass Ultimate - 1 Mês", 
                    price: 7.90, 
                    image: "🎮", 
                    category: "Xbox/Game Pass",
                    description: "Conta compartilhada, compartilhável com sua conta principal. Inclua acesso ao EA PLAY e xCloud. Disponível em todos dispositivos.",
                    stock: 3
                }
            ],
            
            // Discord atualizado
            discord: [
                { 
                    id: 5, 
                    name: "Discord Nitro - 3 Meses", 
                    price: 24.90, 
                    image: "⚡", 
                    category: "Discord",
                    description: "Tenha acesso aos recursos premium do Discord pagando bem menos. Válido apenas para contas que nunca tiveram Nitro nos últimos 12 meses.",
                    stock: 999
                },
                { 
                    id: 6, 
                    name: "Decoração Discord Aleatória", 
                    price: 35.00, 
                    image: "🎨", 
                    category: "Discord",
                    description: "Receba uma decoração aleatória para seu servidor Discord (pode vir qualquer uma)",
                    stock: 999
                }
            ],
            
            // Steam (mantido)
            steam: [
                { 
                    id: 7, 
                    name: "Steam KEY aleatória com algum jogo pago", 
                    price: 9.90, 
                    image: "🎁", 
                    category: "Steam",
                    description: "Key Steam aleatória + brinde. Pode conter jogos de diversos valores!",
                    stock: 999
                }
            ],
            
            // Contas Roblox (mantidas)
            roblox: [
                { 
                    id: 200, 
                    name: "2014 VAZIA S/ ITENS", 
                    price: 5.00,
                    image: "📅", 
                    category: "Contas Roblox",
                    description: "Conta Roblox de 2014 vazia sem itens",
                    stock: 13
                },
                { 
                    id: 201, 
                    name: "2015 VAZIA S/ ITENS", 
                    price: 7.80,
                    image: "📅", 
                    category: "Contas Roblox",
                    description: "Conta Roblox de 2015 vazia sem itens",
                    stock: 10
                },
                { 
                    id: 202, 
                    name: "2016 VAZIA SEM ITENS", 
                    price: 5.72,
                    image: "📅", 
                    category: "Contas Roblox",
                    description: "Conta Roblox de 2016 vazia sem itens",
                    stock: 7
                },
                { 
                    id: 203, 
                    name: "2017 VAZIA S/ ITENS", 
                    price: 7.00,
                    image: "📅", 
                    category: "Contas Roblox",
                    description: "Conta Roblox de 2017 vazia sem itens",
                    stock: 9
                },
                { 
                    id: 204, 
                    name: "2019 VAZIA SEM ITENS", 
                    price: 7.00,
                    image: "📅", 
                    category: "Contas Roblox",
                    description: "Conta Roblox de 2019 vazia sem itens",
                    stock: 10
                },
                { 
                    id: 205, 
                    name: "2020 VAZIA SEM ITENS", 
                    price: 5.00,
                    image: "📅", 
                    category: "Contas Roblox",
                    description: "Conta Roblox de 2020 vazia sem itens",
                    stock: 5
                }
            ],
            
            // Blox Fruits Gamepass
            "bloxfruits-gamepass": [
                { 
                    id: 36, 
                    name: "2x Money", 
                    price: 25.00, 
                    image: "💰", 
                    category: "Blox Fruits",
                    subcategory: "Gamepass",
                    description: "Gamepass 2x Money para Blox Fruits",
                    stock: 999
                },
                { 
                    id: 37, 
                    name: "2x Mastery", 
                    price: 25.00, 
                    image: "⚔️", 
                    category: "Blox Fruits",
                    subcategory: "Gamepass",
                    description: "Gamepass 2x Mastery para Blox Fruits",
                    stock: 999
                },
                { 
                    id: 38, 
                    name: "Fruit Storage", 
                    price: 25.00, 
                    image: "📦", 
                    category: "Blox Fruits",
                    subcategory: "Gamepass",
                    description: "Gamepass Fruit Storage para Blox Fruits",
                    stock: 999
                },
                { 
                    id: 39, 
                    name: "Dark Blade (Yoru)", 
                    price: 56.90, 
                    image: "🗡️", 
                    category: "Blox Fruits",
                    subcategory: "Gamepass",
                    description: "Gamepass Dark Blade (Yoru) para Blox Fruits",
                    stock: 999
                },
                { 
                    id: 40, 
                    name: "Fruit Notifier", 
                    price: 110.00, 
                    image: "🔔", 
                    category: "Blox Fruits",
                    subcategory: "Gamepass",
                    description: "Gamepass Fruit Notifier para Blox Fruits",
                    stock: 999
                },
                { 
                    id: 41, 
                    name: "2x Drop ou Fast Boat", 
                    price: 22.90, 
                    image: "🚤", 
                    category: "Blox Fruits",
                    subcategory: "Gamepass",
                    description: "Gamepass 2x Drop ou Fast Boat para Blox Fruits",
                    stock: 999
                },
                { 
                    id: 42, 
                    name: "Hak Lendario", 
                    price: 18.00, 
                    image: "👊", 
                    category: "Blox Fruits",
                    subcategory: "Gamepass",
                    description: "Haki Lendário para Blox Fruits",
                    stock: 100
                }
            ],
            
            // Frutas Permanentes (todas as que você mandou)
            "bloxfruits-frutas-permanentes": [
                { id: 100, name: "CONTROL PERM", price: 154.90, image: "🌀", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Control permanente para Blox Fruits", stock: 999 },
                { id: 101, name: "DRAGON PERM", price: 176.00, image: "🐉", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Dragon permanente para Blox Fruits", stock: 999 },
                { id: 102, name: "TIGER PERM", price: 110.00, image: "🐅", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Tiger permanente para Blox Fruits", stock: 999 },
                { id: 103, name: "PAIN PERM", price: 86.00, image: "💀", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Pain permanente para Blox Fruits", stock: 999 },
                { id: 104, name: "LIGHTNING PERM", price: 85.00, image: "⚡", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Lightning permanente para Blox Fruits", stock: 999 },
                { id: 105, name: "YETI PERM", price: 110.00, image: "❄️", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Yeti permanente para Blox Fruits", stock: 999 },
                { id: 106, name: "GAS PERM", price: 91.00, image: "💨", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Gas permanente para Blox Fruits", stock: 999 },
                { id: 107, name: "GRAVITY PERM", price: 90.00, image: "🌌", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Gravity permanente para Blox Fruits", stock: 999 },
                { id: 108, name: "CREATION PERM", price: 80.00, image: "✨", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Creation permanente para Blox Fruits", stock: 999 },
                { id: 109, name: "KITSUNE PERM", price: 159.90, image: "🦊", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Kitsune permanente para Blox Fruits", stock: 999 },
                { id: 110, name: "FALCON PERM", price: 45.90, image: "🦅", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Falcon permanente para Blox Fruits", stock: 999 },
                { id: 111, name: "DOUGH PERM", price: 90.00, image: "🥖", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Dough permanente para Blox Fruits", stock: 999 },
                { id: 112, name: "PORTAL PERM", price: 76.90, image: "🌀", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Portal permanente para Blox Fruits", stock: 999 },
                { id: 113, name: "BUDDHA PERM", price: 75.00, image: "🕉️", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Buddha permanente para Blox Fruits", stock: 999 },
                { id: 114, name: "VENOM PERM", price: 95.00, image: "☠️", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Venom permanente para Blox Fruits", stock: 999 },
                { id: 115, name: "LIGHT PERM", price: 54.90, image: "💡", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Light permanente para Blox Fruits", stock: 999 },
                { id: 116, name: "ICE PERM", price: 35.00, image: "🧊", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Ice permanente para Blox Fruits", stock: 999 },
                { id: 117, name: "MAGMA PERM", price: 53.90, image: "🌋", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Magma permanente para Blox Fruits", stock: 999 },
                { id: 118, name: "T-REX PERM", price: 86.90, image: "🦖", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita T-Rex permanente para Blox Fruits", stock: 999 },
                { id: 119, name: "SPIRIT PERM", price: 91.90, image: "👻", category: "Blox Fruits", subcategory: "Frutas Permanentes", description: "Fruita Spirit permanente para Blox Fruits", stock: 999 }
            ],
            
            // Contas Blox Fruits (todas as que você mandou)
            "bloxfruits-contas": [
                { id: 120, name: "V4 MINK+CDK+GDH+LVL", price: 52.32, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com V4 MINK, CDK, God Human e Level", stock: 3 },
                { id: 121, name: "V4 CYBORG+CDK+GDH+LV", price: 56.99, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com V4 Cyborg, CDK, God Human e Level", stock: 10 },
                { id: 122, name: "V4 DRACO+CDK+SG+GDH", price: 75.65, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com V4 Draco, CDK, Soul Guitar e God Human", stock: 12 },
                { id: 123, name: "V4 GHOUL+CDK+SG+GOD", price: 31.99, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com V4 Ghoul, CDK, Soul Guitar e God Human", stock: 0 },
                { id: 124, name: "V4 SKY+CDK+GOD+LVMAX", price: 30.00, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com V4 Sky, CDK, God Human e Level Max", stock: 10 },
                { id: 125, name: "V4 FISCH+CDK+GOD+LVL", price: 56.99, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com V4 Fisch, CDK, God Human e Level", stock: 10 },
                { id: 126, name: "7 V4+CDK+SG+GOD+LVL", price: 105.00, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com 7 V4, CDK, Soul Guitar, God Human e Level", stock: 5 },
                { id: 127, name: "MAMUTE+GDH+LVL 2750", price: 13.00, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com Mamute, God Human e Level 2750", stock: 15 },
                { id: 128, name: "KITSUNE INV", price: 38.32, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com Kitsune Invencível", stock: 10 },
                { id: 129, name: "T-REX INV+GDH+LVL MAX", price: 13.00, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com T-Rex Invencível, God Human e Level Max", stock: 10 },
                { id: 130, name: "DOUGH INV+GDH+LV2750", price: 7.80, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com Dough Invencível, God Human e Level 2750", stock: 10 },
                { id: 131, name: "GAS INV+GDH+LVL 2750", price: 15.00, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com Gas Invencível, God Human e Level 2750", stock: 10 },
                { id: 132, name: "TIGER INV", price: 33.00, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com Tiger Invencível", stock: 20 },
                { id: 133, name: "PORTAL+GDH", price: 12.00, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com Portal e God Human", stock: 10 },
                { id: 134, name: "CONTROL INV+GDH", price: 32.00, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com Control Invencível e God Human", stock: 10 },
                { id: 135, name: "GRAVITY+GDH", price: 13.00, image: "👤", category: "Blox Fruits", subcategory: "Contas", description: "Conta com Gravity e God Human", stock: 10 }
            ],
            
            // Scripts DBC (mantidos)
            scripts: [
                { 
                    id: 140, 
                    name: "Script Custom Master", 
                    price: 30.00, 
                    image: "👑", 
                    category: "Scripts DBC",
                    description: "Script para Dragon Block C [1710] - Cria um NPC que vende Formas (NPC+DBCADDON)",
                    stock: 20
                },
                { 
                    id: 141, 
                    name: "Script TP Bank", 
                    price: 25.00, 
                    image: "🏦", 
                    category: "Scripts DBC",
                    description: "Script para Dragon Block C [1.710] - Funciona como um Banco de TP com todas as funções",
                    stock: 20
                },
                { 
                    id: 142, 
                    name: "Script ARMADURAS EM CUSTOM FORMS", 
                    price: 15.00, 
                    image: "🛡️", 
                    category: "Scripts DBC",
                    description: "Script para Dragon Block C [1.710] - Ao transformar equipa automaticamente qualquer roupa",
                    stock: 100
                },
                { 
                    id: 143, 
                    name: "Script De Teleportes", 
                    price: 14.99, 
                    image: "📍", 
                    category: "Scripts DBC",
                    description: "Script para Dragon Block C [1710] - Permite teleportar para vários locais",
                    stock: 20
                },
                { 
                    id: 144, 
                    name: "Script Custom Races / Custom Effects", 
                    price: 30.00, 
                    image: "🌀", 
                    category: "Scripts DBC",
                    description: "Script para Dragon Block C (1710) - Cria um NPC que vende raça/effect Bio-android ou Android",
                    stock: 20
                },
                { 
                    id: 145, 
                    name: "Script De ANIMAÇÃO DE KI", 
                    price: 15.00, 
                    image: "💥", 
                    category: "Scripts DBC",
                    description: "Script de animação de carregar KI quando apertar tecla 'C'",
                    stock: 100
                }
            ],
            
            // Fortnite (mantidos)
            fortnite: [
                { 
                    id: 300, 
                    name: "🎪 CONTA COM LISA ROCKSTAR 1000 VBUCKS + PASSES (1 MÊS DE CLUBE)", 
                    price: 35.10,
                    image: "👑", 
                    category: "Fortnite",
                    description: "A conta já vem com 1000 VBUCKS no total, sendo os VBUCKS do clube Fortnite. Para obter a skin da Lisa rockstar você tem que terminar o passe musical.",
                    stock: 56
                },
                { 
                    id: 301, 
                    name: "🎁 CONTA COM LISA ROCKSTAR 2000 VBUCKS + PASSES (2 MESES DE CLUBE)", 
                    price: 55.40,
                    image: "👑", 
                    category: "Fortnite",
                    description: "A conta já vem com 1000 VBUCKS e 2 meses de clube. Os outros 1000 VBUCKS são entregues em parcelas mensais de 1000 VBUCKS junto ao clube. Para obter a skin da Lisa rockstar você tem que terminar o passe musical.",
                    stock: 88
                },
                { 
                    id: 302, 
                    name: "💖 CONTA COM 6000 VBUCKS + 6 MESES DE CLUBE", 
                    price: 94.90,
                    image: "👑", 
                    category: "Fortnite",
                    description: "A conta já vem com 1000 VBUCKS e 6 meses de clube. Os outros 5000 VBUCKS são entregues em parcelas mensais de 1000 VBUCKS junto ao clube.",
                    stock: 83
                },
                { 
                    id: 303, 
                    name: "💍 CONTA COM 13500 VBUCKS", 
                    price: 279.90,
                    image: "👑", 
                    category: "Fortnite",
                    description: "A conta vem com 13500 VBUCKS no total.",
                    stock: 64
                }
            ],
            
            // Valorant (mantidos)
            valorant: [
                { 
                    id: 400, 
                    name: "FERRO (1-3)", 
                    price: 79.90,
                    image: "⚔️", 
                    category: "Valorant",
                    description: "Conta Valorant com rank Ferro (1-3)",
                    stock: 36
                },
                { 
                    id: 401, 
                    name: "BRONZE (1-3)", 
                    price: 74.90,
                    image: "⚔️", 
                    category: "Valorant",
                    description: "Conta Valorant com rank Bronze (1-3)",
                    stock: 46
                },
                { 
                    id: 402, 
                    name: "PRATA (1-3)", 
                    price: 74.90,
                    image: "⚔️", 
                    category: "Valorant",
                    description: "Conta Valorant com rank Prata (1-3)",
                    stock: 12
                },
                { 
                    id: 403, 
                    name: "OURO (1-3)", 
                    price: 79.90,
                    image: "⚔️", 
                    category: "Valorant",
                    description: "Conta Valorant com rank Ouro (1-3)",
                    stock: 64
                },
                { 
                    id: 404, 
                    name: "DIAMANTE (1-3)", 
                    price: 109.90,
                    image: "💎", 
                    category: "Valorant",
                    description: "Conta Valorant com rank Diamante (1-3)",
                    stock: 9
                }
            ],
            
            // Minecraft atualizado
            minecraft: [
                { 
                    id: 500, 
                    name: "MINECRAFT JAVA + BEDROCK (FULL ACESSO)", 
                    price: 64.99, 
                    image: "⛏️", 
                    category: "Minecraft",
                    description: "Licença completa do Minecraft Java + Bedrock Edition. Nick alterável. Acesso total a todas as funcionalidades.",
                    stock: 999
                }
            ],
            
            // GTA V
            gta: [
                { 
                    id: 600, 
                    name: "Conta Rockstar Licenciada para FiveM", 
                    price: 5.00, 
                    image: "🚗", 
                    category: "GTA V",
                    description: "Conta Rockstar licenciada e verificada para uso no FiveM",
                    stock: 999
                },
                { 
                    id: 601, 
                    name: "Conta Steam para baixar GTA V", 
                    price: 16.00, 
                    image: "🎮", 
                    category: "GTA V",
                    description: "Conta Steam com GTA V para download e uso pessoal",
                    stock: 999
                },
                { 
                    id: 602, 
                    name: "COMBO: Conta Rockstar + Steam", 
                    price: 18.00, 
                    image: "💎", 
                    category: "GTA V",
                    description: "Combo completo com conta Rockstar licenciada e conta Steam com GTA V",
                    stock: 999
                }
            ],
            
            // Dragon Ball Rage
            dbrage: [
                { 
                    id: 700, 
                    name: "Custom Anime Girl Form", 
                    price: 35.00, 
                    image: "👧", 
                    category: "Dragon Ball Rage",
                    description: "Forma personalizada de anime girl para seu personagem",
                    stock: 999
                },
                { 
                    id: 701, 
                    name: "2x Training EXP", 
                    price: 29.00, 
                    image: "⚡", 
                    category: "Dragon Ball Rage",
                    description: "Multiplicador de experiência de treinamento (2x)",
                    stock: 999
                },
                { 
                    id: 702, 
                    name: "2x Drop Chance", 
                    price: 25.00, 
                    image: "🎁", 
                    category: "Dragon Ball Rage",
                    description: "Chance aumentada de drop de itens (2x)",
                    stock: 999
                },
                { 
                    id: 703, 
                    name: "Limit Breaker", 
                    price: 23.00, 
                    image: "🔥", 
                    category: "Dragon Ball Rage",
                    description: "Quebra os limites do seu personagem",
                    stock: 999
                },
                { 
                    id: 704, 
                    name: "Dragon Radar", 
                    price: 22.00, 
                    image: "📡", 
                    category: "Dragon Ball Rage",
                    description: "Radar para localizar esferas do dragão",
                    stock: 999
                },
                { 
                    id: 705, 
                    name: "2x Zeni", 
                    price: 16.90, 
                    image: "💰", 
                    category: "Dragon Ball Rage",
                    description: "Multiplicador de Zeni (2x)",
                    stock: 999
                },
                { 
                    id: 706, 
                    name: "Custom KI Color", 
                    price: 6.00, 
                    image: "🌈", 
                    category: "Dragon Ball Rage",
                    description: "Cor personalizada para seu KI",
                    stock: 999
                },
                { 
                    id: 707, 
                    name: "Omega SSJ", 
                    price: 5.00, 
                    image: "💥", 
                    category: "Dragon Ball Rage",
                    description: "Transformação Omega Super Saiyajin",
                    stock: 999
                },
                { 
                    id: 708, 
                    name: "Parasite Form", 
                    price: 6.50, 
                    image: "🦠", 
                    category: "Dragon Ball Rage",
                    description: "Forma de parasita para seu personagem",
                    stock: 999
                },
                { 
                    id: 709, 
                    name: "Savior Form", 
                    price: 13.00, 
                    image: "🛡️", 
                    category: "Dragon Ball Rage",
                    description: "Forma de salvador com habilidades especiais",
                    stock: 999
                }
            ],
            
            // Cupons
            cupons: [
                { 
                    id: 800, 
                    name: "Cupom 10% Permanente", 
                    price: 10.00, 
                    image: "🏷️", 
                    category: "Cupons",
                    description: "Cupom de 10% de desconto permanente para usar em todas as compras",
                    stock: 999
                },
                { 
                    id: 801, 
                    name: "Cupom 15% Permanente", 
                    price: 15.00, 
                    image: "🏷️", 
                    category: "Cupons",
                    description: "Cupom de 15% de desconto permanente para usar em todas as compras",
                    stock: 999
                },
                { 
                    id: 802, 
                    name: "Cupom 20% Permanente", 
                    price: 20.00, 
                    image: "🏷️", 
                    category: "Cupons",
                    description: "Cupom de 20% de desconto permanente para usar em todas as compras",
                    stock: 999
                },
                { 
                    id: 803, 
                    name: "Cupom 25% Permanente", 
                    price: 25.00, 
                    image: "🏷️", 
                    category: "Cupons",
                    description: "Cupom de 25% de desconto permanente para usar em todas as compras",
                    stock: 999
                }
            ]
        };

        // Sistema de usuários
        class UserSystem {
            constructor() {
                this.users = JSON.parse(localStorage.getItem('blackdz_users')) || [
                    { 
                        id: 1, 
                        username: "BlackDz",  // USUÁRIO ADMIN CORRIGIDO
                        password: "30082011",  // SENHA ADMIN CORRIGIDA
                        email: "admin@blackdz.com",
                        name: "Administrador BlackDz",
                        isAdmin: true,
                        createdAt: new Date().toISOString()
                    },
                    { 
                        id: 2, 
                        username: "cliente", 
                        password: "cliente123", 
                        email: "cliente@exemplo.com",
                        name: "Cliente",
                        isAdmin: false,
                        createdAt: new Date().toISOString()
                    }
                ];
                this.saveUsers();
            }
            
            saveUsers() {
                localStorage.setItem('blackdz_users', JSON.stringify(this.users));
            }
            
            register(username, email, password, name) {
                if (this.users.find(u => u.username === username)) {
                    return { success: false, message: "Usuário já existe!" };
                }
                
                if (this.users.find(u => u.email === email)) {
                    return { success: false, message: "Email já cadastrado!" };
                }
                
                if (password.length < 6) {
                    return { success: false, message: "A senha deve ter pelo menos 6 caracteres!" };
                }
                
                const newUser = {
                    id: Date.now(),
                    username,
                    email,
                    password,
                    name: name || username,
                    isAdmin: false,
                    createdAt: new Date().toISOString()
                };
                
                this.users.push(newUser);
                this.saveUsers();
                
                return { success: true, user: newUser };
            }
            
            login(username, password) {
                const user = this.users.find(u => u.username === username && u.password === password);
                if (user) {
                    return { success: true, user };
                }
                return { success: false, message: "Usuário ou senha incorretos!" };
            }
            
            isAdmin(username) {
                const user = this.users.find(u => u.username === username);
                return user ? user.isAdmin : false;
            }
        }

        // Estado global
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let currentCoupon = null;
        let currentBloxFruitsSubcategory = null;
        let currentPage = 1;
        const itemsPerPage = 6;
        
        // Inicializar sistemas
        const userSystem = new UserSystem();
        const adminSystem = new AdminSystem();

        // Elementos DOM
        const loginScreen = document.getElementById('login-screen');
        const registerScreen = document.getElementById('register-screen');
        const mainContent = document.getElementById('main-content');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const loginError = document.getElementById('login-error');
        const registerError = document.getElementById('register-error');
        const goToRegister = document.getElementById('go-to-register');
        const goToLogin = document.getElementById('go-to-login');
        const loggedUserElement = document.getElementById('logged-user');
        const logoutBtn = document.getElementById('logout-btn');
        const adminLink = document.getElementById('admin-link');
        
        const categoryCards = document.querySelectorAll('.category-card');
        const navCategories = document.querySelectorAll('.nav-category');
        const backToCategories = document.querySelectorAll('.back-to-categories');
        const productsSections = document.querySelectorAll('.products-section');
        const categoriesSection = document.querySelector('.categories-section');
        const cartIcon = document.querySelector('.cart-icon');
        const cartModal = document.querySelector('.cart-modal');
        const closeCart = document.querySelector('.close-cart');
        const cartCount = document.querySelector('.cart-count');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartSubtotalElement = document.getElementById('cart-subtotal');
        const cartTotalElement = document.getElementById('cart-total');
        const checkoutBtn = document.getElementById('checkout-btn');
        const clearCartBtn = document.getElementById('clear-cart');
        const checkoutModal = document.querySelector('.checkout-modal');
        const closeCheckout = document.querySelector('.close-checkout');
        const overlay = document.querySelector('.overlay');
        const whatsappBtn = document.getElementById('whatsapp-btn');
        const discordBtn = document.getElementById('discord-btn');
        const checkoutTotalElement = document.getElementById('checkout-total');
        const orderItemsElement = document.getElementById('order-items');
        const orderTotalElement = document.getElementById('order-total');
        const pixKeyElement = document.getElementById('pix-key');
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navLinks = document.querySelector('.nav-links');
        const gameSearchInput = document.getElementById('game-search-input');
        const suggestedGames = document.querySelectorAll('.suggested-game');
        const requestGameBtn = document.getElementById('request-game-btn');
        const requestItemBtn = document.getElementById('request-item-btn');
        const couponCodeInput = document.getElementById('coupon-code');
        const applyCouponBtn = document.getElementById('apply-coupon-btn');
        const couponMessage = document.getElementById('coupon-message');
        const cartDiscount = document.getElementById('cart-discount');
        const discountAmount = document.getElementById('discount-amount');
        const orderDiscount = document.getElementById('order-discount');
        const discountSummary = document.getElementById('discount-summary');
        
        // Elementos do Blox Fruits
        const subcategoryCards = document.querySelectorAll('.subcategory-card');
        const bloxfruitsGamepassGrid = document.getElementById('bloxfruits-gamepass');
        const bloxfruitsFrutasGrid = document.getElementById('bloxfruits-frutas-permanentes');
        const bloxfruitsContasGrid = document.getElementById('bloxfruits-contas');
        const bloxfruitsPagination = document.getElementById('bloxfruits-pagination');
        
        // Elementos do Admin
        const adminTabs = document.querySelectorAll('.admin-tab');
        const adminContents = document.querySelectorAll('.admin-content');
        const ordersTableBody = document.getElementById('orders-table-body');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const sendMessageBtn = document.getElementById('send-message-btn');
        const couponsTableBody = document.getElementById('coupons-table-body');
        const createCouponBtn = document.getElementById('create-coupon-btn');

        // Inicializar sistema de login
        function initLoginSystem() {
            if (currentUser) {
                loginScreen.classList.add('hidden');
                registerScreen.classList.add('hidden');
                mainContent.style.display = 'block';
                loggedUserElement.textContent = currentUser.name || currentUser.username;
                
                // Mostrar link de admin se for administrador
                if (currentUser.isAdmin) {
                    adminLink.style.display = 'inline-block';
                } else {
                    adminLink.style.display = 'none';
                }
            } else {
                loginScreen.classList.remove('hidden');
                registerScreen.classList.add('hidden');
                mainContent.style.display = 'none';
                adminLink.style.display = 'none';
            }
        }

        // Mostrar tela de login
        function showLoginScreen() {
            loginScreen.classList.remove('hidden');
            registerScreen.classList.add('hidden');
            loginError.style.display = 'none';
        }

        // Mostrar tela de registro
        function showRegisterScreen() {
            loginScreen.classList.add('hidden');
            registerScreen.classList.remove('hidden');
            registerError.style.display = 'none';
        }

        // Login
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            const result = userSystem.login(username, password);
            
            if (result.success) {
                currentUser = result.user;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                loginError.style.display = 'none';
                loginScreen.classList.add('hidden');
                registerScreen.classList.add('hidden');
                mainContent.style.display = 'block';
                loggedUserElement.textContent = result.user.name || result.user.username;
                
                // Mostrar link de admin se for administrador
                if (currentUser.isAdmin) {
                    adminLink.style.display = 'inline-block';
                } else {
                    adminLink.style.display = 'none';
                }
                
                initializeProducts();
                updateCart();
                
                // Scroll para o topo
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                loginError.textContent = result.message;
                loginError.style.display = 'block';
            }
        });

        // Registro
        registerForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('reg-username').value;
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('reg-confirm-password').value;
            
            if (password !== confirmPassword) {
                registerError.textContent = "As senhas não coincidem!";
                registerError.style.display = 'block';
                return;
            }
            
            const result = userSystem.register(username, email, password, username);
            
            if (result.success) {
                currentUser = result.user;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                registerError.style.display = 'none';
                loginScreen.classList.add('hidden');
                registerScreen.classList.add('hidden');
                mainContent.style.display = 'block';
                loggedUserElement.textContent = result.user.name || result.user.username;
                
                // Ocultar link admin para usuários normais
                adminLink.style.display = 'none';
                
                initializeProducts();
                updateCart();
                
                alert(`Bem-vindo, ${username}! Sua conta foi criada com sucesso.`);
            } else {
                registerError.textContent = result.message;
                registerError.style.display = 'block';
            }
        });

        // Alternar entre login e registro
        goToRegister.addEventListener('click', showRegisterScreen);
        goToLogin.addEventListener('click', showLoginScreen);

        // Logout
        logoutBtn.addEventListener('click', function() {
            currentUser = null;
            currentCoupon = null;
            localStorage.removeItem('currentUser');
            initLoginSystem();
        });

        // Inicializar produtos
        function initializeProducts() {
            // Para cada categoria principal
            for (const category in productsData) {
                const productsGrid = document.getElementById(`${category}-products`);
                if (!productsGrid) continue;
                
                productsGrid.innerHTML = '';
                
                productsData[category].forEach(product => {
                    createProductCard(product, productsGrid);
                });
            }
            
            // Inicializar subcategorias do Blox Fruits
            initializeBloxFruitsSubcategories();
            
            // Adicionar eventos aos botões de produto
            addProductEventListeners();
        }

        // Inicializar subcategorias do Blox Fruits com paginação
        function initializeBloxFruitsSubcategories() {
            // Gamepass
            bloxfruitsGamepassGrid.innerHTML = '';
            const gamepassProducts = productsData["bloxfruits-gamepass"] || [];
            gamepassProducts.forEach(product => {
                createProductCard(product, bloxfruitsGamepassGrid);
            });
            
            // Frutas Permanentes (será paginado)
            bloxfruitsFrutasGrid.innerHTML = '';
            
            // Contas (será paginado)
            bloxfruitsContasGrid.innerHTML = '';
        }

        // Criar card de produto
        function createProductCard(product, container) {
            const stockClass = product.stock < 10 ? 'low-stock' : 'in-stock';
            const stockText = product.stock < 10 ? `Apenas ${product.stock} restantes!` : `Estoque: ${product.stock}`;
            
            const productCard = document.createElement('div');
            productCard.className = 'product-card';
            productCard.innerHTML = `
                <div class="product-badge">${product.category}</div>
                <div class="product-image">
                    <span style="font-size: 3.5rem;">${product.image}</span>
                </div>
                <div class="product-info">
                    <div class="product-category">${product.category}</div>
                    <h3 class="product-title">${product.name}</h3>
                    <p class="product-description">${product.description}</p>
                    <div class="product-price">R$ ${product.price.toFixed(2)}</div>
                    <div class="product-stock ${stockClass}">${stockText}</div>
                    <div class="product-actions">
                        <button class="btn btn-success buy-now-btn" data-id="${product.id}">Comprar Agora</button>
                        <button class="btn add-to-cart-btn" data-id="${product.id}">Adicionar ao Carrinho</button>
                    </div>
                </div>
            `;
            container.appendChild(productCard);
        }

        // Mostrar produtos com paginação
        function showProductsWithPagination(products, container, paginationContainer) {
            container.innerHTML = '';
            
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const paginatedProducts = products.slice(startIndex, endIndex);
            
            paginatedProducts.forEach(product => {
                createProductCard(product, container);
            });
            
            // Criar paginação
            const totalPages = Math.ceil(products.length / itemsPerPage);
            
            if (totalPages > 1) {
                paginationContainer.innerHTML = '';
                
                for (let i = 1; i <= totalPages; i++) {
                    const pageBtn = document.createElement('button');
                    pageBtn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                    pageBtn.textContent = i;
                    pageBtn.addEventListener('click', () => {
                        currentPage = i;
                        showProductsWithPagination(products, container, paginationContainer);
                        addProductEventListeners();
                    });
                    paginationContainer.appendChild(pageBtn);
                }
                
                paginationContainer.style.display = 'flex';
            } else {
                paginationContainer.style.display = 'none';
            }
        }

        // Mostrar subcategoria do Blox Fruits com paginação
        function showBloxFruitsSubcategory(subcategory) {
            currentBloxFruitsSubcategory = subcategory;
            currentPage = 1;
            
            // Esconder todas as grids
            bloxfruitsGamepassGrid.style.display = 'none';
            bloxfruitsFrutasGrid.style.display = 'none';
            bloxfruitsContasGrid.style.display = 'none';
            bloxfruitsPagination.style.display = 'none';
            
            let products = [];
            let container = null;
            
            switch(subcategory) {
                case 'gamepass':
                    container = bloxfruitsGamepassGrid;
                    products = productsData["bloxfruits-gamepass"] || [];
                    container.style.display = 'grid';
                    container.innerHTML = '';
                    products.forEach(product => createProductCard(product, container));
                    break;
                    
                case 'frutas-permanentes':
                    container = bloxfruitsFrutasGrid;
                    products = productsData["bloxfruits-frutas-permanentes"] || [];
                    container.style.display = 'grid';
                    showProductsWithPagination(products, container, bloxfruitsPagination);
                    break;
                    
                case 'contas':
                    container = bloxfruitsContasGrid;
                    products = productsData["bloxfruits-contas"] || [];
                    container.style.display = 'grid';
                    showProductsWithPagination(products, container, bloxfruitsPagination);
                    break;
            }
            
            addProductEventListeners();
        }

        // Adicionar eventos aos botões de produto
        function addProductEventListeners() {
            // Adicionar eventos aos botões de produto
            document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    addToCart(productId);
                    
                    const originalText = this.textContent;
                    this.textContent = 'Adicionado!';
                    setTimeout(() => {
                        this.textContent = originalText;
                    }, 1000);
                });
            });
            
            // Adicionar eventos aos botões "Comprar Agora"
            document.querySelectorAll('.buy-now-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    addToCart(productId);
                    cartModal.classList.add('active');
                    overlay.classList.add('active');
                    updateCart();
                });
            });
        }

        // Adicionar produto ao carrinho
        function addToCart(productId) {
            let product = null;
            
            // Procurar o produto em todas as categorias
            for (const category in productsData) {
                const found = productsData[category].find(p => p.id === productId);
                if (found) {
                    product = found;
                    break;
                }
            }
            
            if (!product) return;
            
            // Verificar se o produto já está no carrinho
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    category: product.category,
                    subcategory: product.subcategory,
                    quantity: 1
                });
            }
            
            updateCart();
            saveCartToStorage();
        }

        // Remover item do carrinho
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
            saveCartToStorage();
        }

        // Atualizar quantidade do item no carrinho
        function updateCartItemQuantity(productId, newQuantity) {
            if (newQuantity < 1) {
                removeFromCart(productId);
                return;
            }
            
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity = newQuantity;
                updateCart();
                saveCartToStorage();
            }
        }

        // Calcular totais do carrinho
        function calculateCartTotals() {
            let subtotal = 0;
            cart.forEach(item => {
                subtotal += item.price * item.quantity;
            });
            
            let discount = 0;
            if (currentCoupon) {
                if (currentCoupon.type === 'percentage') {
                    discount = subtotal * (currentCoupon.discount / 100);
                } else {
                    discount = currentCoupon.discount;
                }
            }
            
            const total = subtotal - discount;
            
            return {
                subtotal: Math.max(0, subtotal),
                discount: Math.max(0, discount),
                total: Math.max(0, total)
            };
        }

        // Atualizar carrinho
        function updateCart() {
            // Atualizar contador
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            // Atualizar itens do carrinho
            cartItemsContainer.innerHTML = '';
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="empty-cart-message">
                        <i class="fas fa-shopping-cart"></i>
                        <p>Seu carrinho está vazio</p>
                    </div>
                `;
                cartSubtotalElement.textContent = 'R$ 0,00';
                cartTotalElement.textContent = 'R$ 0,00';
                cartDiscount.style.display = 'none';
                return;
            }
            
            const totals = calculateCartTotals();
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-image">
                        <span style="font-size: 2rem;">${item.image}</span>
                    </div>
                    <div class="cart-item-info">
                        <h4 class="cart-item-title">${item.name}</h4>
                        <div class="cart-item-price">R$ ${item.price.toFixed(2)}</div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn decrease-btn" data-id="${item.id}">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn increase-btn" data-id="${item.id}">+</button>
                        </div>
                        <div style="margin-top: 5px; font-size: 0.9rem;">Subtotal: R$ ${itemTotal.toFixed(2)}</div>
                    </div>
                    <button class="cart-item-remove" data-id="${item.id}">
                        <i class="fas fa-trash"></i>
                    </button>
                `;
                cartItemsContainer.appendChild(cartItem);
            });
            
            // Atualizar totais
            cartSubtotalElement.textContent = `R$ ${totals.subtotal.toFixed(2)}`;
            cartTotalElement.textContent = `R$ ${totals.total.toFixed(2)}`;
            
            // Atualizar desconto
            if (currentCoupon && totals.discount > 0) {
                discountAmount.textContent = `-R$ ${totals.discount.toFixed(2)}`;
                cartDiscount.style.display = 'flex';
            } else {
                cartDiscount.style.display = 'none';
            }
            
            // Adicionar eventos aos botões
            document.querySelectorAll('.cart-item-remove').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    removeFromCart(productId);
                });
            });
            
            document.querySelectorAll('.decrease-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    const item = cart.find(item => item.id === productId);
                    if (item) {
                        updateCartItemQuantity(productId, item.quantity - 1);
                    }
                });
            });
            
            document.querySelectorAll('.increase-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    const item = cart.find(item => item.id === productId);
                    if (item) {
                        updateCartItemQuantity(productId, item.quantity + 1);
                    }
                });
            });
        }

        // Aplicar cupom
        function applyCoupon() {
            const code = couponCodeInput.value.trim();
            if (!code) {
                couponMessage.textContent = 'Digite um código de cupom';
                couponMessage.className = 'coupon-message coupon-error';
                couponMessage.style.display = 'block';
                return;
            }
            
            if (!currentUser) {
                couponMessage.textContent = 'Faça login para usar cupons';
                couponMessage.className = 'coupon-message coupon-error';
                couponMessage.style.display = 'block';
                return;
            }
            
            const validation = adminSystem.validateCoupon(code, currentUser.id);
            
            if (validation.valid) {
                currentCoupon = {
                    code: code,
                    discount: validation.discount,
                    type: validation.type
                };
                
                couponMessage.textContent = `Cupom "${code}" aplicado com sucesso!`;
                couponMessage.className = 'coupon-message coupon-success';
                couponMessage.style.display = 'block';
                couponCodeInput.value = '';
                
                updateCart();
            } else {
                couponMessage.textContent = validation.message;
                couponMessage.className = 'coupon-message coupon-error';
                couponMessage.style.display = 'block';
            }
        }

        // Salvar carrinho no localStorage
        function saveCartToStorage() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // Limpar carrinho
        function clearCart() {
            cart = [];
            currentCoupon = null;
            updateCart();
            saveCartToStorage();
        }

        // Navegar para categoria
        function showCategory(category) {
            if (category === 'all') {
                categoriesSection.style.display = 'block';
                productsSections.forEach(section => {
                    section.style.display = 'none';
                });
                window.scrollTo({ top: 0, behavior: 'smooth' });
                return;
            }
            
            categoriesSection.style.display = 'none';
            productsSections.forEach(section => {
                section.style.display = 'none';
            });
            
            const targetSection = document.getElementById(`products-${category}`);
            if (targetSection) {
                targetSection.style.display = 'block';
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Resetar estados
                if (category === 'bloxfruits') {
                    bloxfruitsGamepassGrid.style.display = 'none';
                    bloxfruitsFrutasGrid.style.display = 'none';
                    bloxfruitsContasGrid.style.display = 'none';
                    bloxfruitsPagination.style.display = 'none';
                    currentBloxFruitsSubcategory = null;
                }
                
                // Se for admin, carregar dados
                if (category === 'admin') {
                    if (currentUser && currentUser.isAdmin) {
                        loadAdminOrders();
                        loadAdminCoupons();
                        loadChatMessages();
                    } else {
                        showCategory('all');
                        alert('Acesso negado! Você precisa ser administrador.');
                    }
                }
            }
        }

        // Atualizar resumo do pedido no checkout
        function updateOrderSummary() {
            orderItemsElement.innerHTML = '';
            
            const totals = calculateCartTotals();
            let orderNumber = Math.floor(Math.random() * 1000000);
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                
                const orderItem = document.createElement('div');
                orderItem.className = 'order-item';
                orderItem.innerHTML = `
                    <span>${item.name} x${item.quantity}</span>
                    <span>R$ ${itemTotal.toFixed(2)}</span>
                `;
                orderItemsElement.appendChild(orderItem);
            });
            
            orderTotalElement.textContent = `R$ ${totals.total.toFixed(2)}`;
            checkoutTotalElement.textContent = `R$ ${totals.total.toFixed(2)}`;
            
            // Atualizar desconto
            if (currentCoupon && totals.discount > 0) {
                discountSummary.textContent = `-R$ ${totals.discount.toFixed(2)}`;
                orderDiscount.style.display = 'flex';
            } else {
                orderDiscount.style.display = 'none';
            }
            
            // Criar pedido
            const orderData = {
                userId: currentUser.id,
                userName: currentUser.name,
                items: cart.map(item => ({
                    id: item.id,
                    name: item.name,
                    price: item.price,
                    quantity: item.quantity
                })),
                subtotal: totals.subtotal,
                discount: totals.discount,
                total: totals.total,
                coupon: currentCoupon ? currentCoupon.code : null
            };
            
            const order = adminSystem.createOrder(orderData);
            
            // Gerar mensagens para contato
            let productList = '';
            cart.forEach(item => {
                productList += `• ${item.name} (x${item.quantity}) - R$ ${(item.price * item.quantity).toFixed(2)}\n`;
            });
            
            // Mensagem para WhatsApp
            const whatsappMessage = `*Pedido #${order.id} - BlackDz Store*\n\n*Cliente:* ${currentUser.name}\n*Valor Total:* R$ ${totals.total.toFixed(2)}\n\n*Produtos:*\n${productList}\n*Cupom usado:* ${currentCoupon ? currentCoupon.code : 'Nenhum'}\n*Desconto:* R$ ${totals.discount.toFixed(2)}\n\n*COMPROVANTE DE PAGAMENTO:* [ANEXAR AQUI]`;
            
            whatsappBtn.onclick = function() {
                const encodedMessage = encodeURIComponent(whatsappMessage);
                window.open(`https://wa.me/5522981636278?text=${encodedMessage}`, '_blank');
            };
            
            // Mensagem para Discord
            const discordMessage = `**Pedido #${order.id} - BlackDz Store**\n\n**Cliente:** ${currentUser.name}\n**Valor Total:** R$ ${totals.total.toFixed(2)}\n\n**Produtos:**\n${productList}\n**Cupom usado:** ${currentCoupon ? currentCoupon.code : 'Nenhum'}\n**Desconto:** R$ ${totals.discount.toFixed(2)}`;
            
            discordBtn.onclick = function() {
                // Abrir Discord - o administrador pode copiar a mensagem
                alert('Copie a mensagem abaixo e em nosso discord abra um ticket em Suporte:\n\n' + discordMessage);
                window.open('https://discord.gg/3qg2E7UPwV', '_blank');
            };
            
            // Usar cupom se aplicável
            if (currentCoupon) {
                adminSystem.useCoupon(currentCoupon.code, currentUser.id);
            }
        }

        // Carregar pedidos no painel admin
        function loadAdminOrders() {
            ordersTableBody.innerHTML = '';
            const orders = adminSystem.getOrders();
            
            if (orders.length === 0) {
                ordersTableBody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 30px;">
                            Nenhum pedido encontrado
                        </td>
                    </tr>
                `;
                return;
            }
            
            orders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>#${order.id}</td>
                    <td>${order.userName}</td>
                    <td>${order.items.length} produto(s)</td>
                    <td>R$ ${order.total.toFixed(2)}</td>
                    <td>
                        <span class="order-status status-${order.status}">
                            ${order.status === 'pending' ? 'Pendente' : 
                              order.status === 'completed' ? 'Concluído' : 'Cancelado'}
                        </span>
                    </td>
                    <td>
                        <button class="btn btn-secondary" onclick="viewOrderDetails(${order.id})" style="padding: 5px 10px; font-size: 0.8rem;">
                            <i class="fas fa-eye"></i>
                        </button>
                        ${order.status === 'pending' ? `
                            <button class="btn btn-success" onclick="updateOrderStatus(${order.id}, 'completed')" style="padding: 5px 10px; font-size: 0.8rem;">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn btn-danger" onclick="updateOrderStatus(${order.id}, 'cancelled')" style="padding: 5px 10px; font-size: 0.8rem;">
                                <i class="fas fa-times"></i>
                            </button>
                        ` : ''}
                    </td>
                `;
                ordersTableBody.appendChild(row);
            });
        }

        // Carregar cupons no painel admin
        function loadAdminCoupons() {
            couponsTableBody.innerHTML = '';
            const coupons = adminSystem.getCoupons();
            
            if (coupons.length === 0) {
                couponsTableBody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 30px;">
                            Nenhum cupom encontrado
                        </td>
                    </tr>
                `;
                return;
            }
            
            coupons.forEach(coupon => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${coupon.code}</td>
                    <td>${coupon.discount}${coupon.type === 'percentage' ? '%' : ' reais'}</td>
                    <td>${coupon.isSingleUse ? 'Uso Único' : 'Múltiplo'}</td>
                    <td>${coupon.usedBy.length}</td>
                    <td>
                        <span class="order-status ${coupon.isActive ? 'status-completed' : 'status-cancelled'}">
                            ${coupon.isActive ? 'Ativo' : 'Inativo'}
                        </span>
                    </td>
                    <td>
                        <button class="btn btn-secondary" onclick="toggleCoupon('${coupon.code}')" style="padding: 5px 10px; font-size: 0.8rem;">
                            ${coupon.isActive ? 'Desativar' : 'Ativar'}
                        </button>
                    </td>
                `;
                couponsTableBody.appendChild(row);
            });
        }

        // Carregar mensagens do chat
        function loadChatMessages() {
            chatMessages.innerHTML = '';
            const messages = adminSystem.getMessages();
            
            if (messages.length === 0) {
                chatMessages.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: #777;">
                        Nenhuma mensagem no chat. As mensagens aparecerão quando clientes ou administradores enviarem mensagens aqui.
                    </div>
                `;
                return;
            }
            
            // Ordenar mensagens por timestamp
            messages.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));
            
            messages.forEach(msg => {
                const messageDiv = document.createElement('div');
                messageDiv.className = `chat-message ${msg.isAdmin ? 'message-admin' : 'message-user'}`;
                messageDiv.innerHTML = `
                    <div style="font-weight: bold; margin-bottom: 5px;">
                        ${msg.isAdmin ? '👑 Administrador' : '👤 ' + msg.sender}
                        <span style="font-size: 0.8rem; color: #aaa; margin-left: 10px;">
                            ${new Date(msg.timestamp).toLocaleString('pt-BR')}
                        </span>
                    </div>
                    <div>${msg.message}</div>
                `;
                chatMessages.appendChild(messageDiv);
            });
            
            // Scroll automático para a última mensagem
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Enviar mensagem no chat
        function sendChatMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            
            adminSystem.sendMessage(currentUser.name, message, currentUser.isAdmin);
            chatInput.value = '';
            loadChatMessages();
        }

        // Criar novo cupom
        function createNewCoupon() {
            const code = prompt('Digite o código do cupom:');
            if (!code) return;
            
            const discount = parseFloat(prompt('Digite o valor do desconto:'));
            if (isNaN(discount) || discount <= 0) {
                alert('Valor inválido!');
                return;
            }
            
            const type = confirm('O desconto é em porcentagem? (OK = %, Cancelar = valor fixo)') ? 'percentage' : 'fixed';
            const isSingleUse = confirm('Cupom de uso único? (OK = Sim, Cancelar = Não)');
            
            adminSystem.createCoupon(code, discount, type, isSingleUse);
            loadAdminCoupons();
            alert('Cupom criado com sucesso!');
        }

        // Event Listeners
        categoryCards.forEach(card => {
            card.addEventListener('click', function() {
                const category = this.getAttribute('data-category');
                showCategory(category);
            });
        });

        navCategories.forEach(nav => {
            nav.addEventListener('click', function(e) {
                e.preventDefault();
                const category = this.getAttribute('data-category');
                showCategory(category);
                navLinks.classList.remove('active');
            });
        });

        backToCategories.forEach(backBtn => {
            backBtn.addEventListener('click', function() {
                showCategory('all');
            });
        });

        // Subcategorias do Blox Fruits
        subcategoryCards.forEach(card => {
            card.addEventListener('click', function() {
                const subcategory = this.getAttribute('data-subcategory');
                showBloxFruitsSubcategory(subcategory);
            });
        });

        // Carrinho e modais
        cartIcon.addEventListener('click', () => {
            cartModal.classList.add('active');
            overlay.classList.add('active');
        });

        closeCart.addEventListener('click', () => {
            cartModal.classList.remove('active');
            overlay.classList.remove('active');
        });

        overlay.addEventListener('click', () => {
            cartModal.classList.remove('active');
            checkoutModal.classList.remove('active');
            overlay.classList.remove('active');
        });

        clearCartBtn.addEventListener('click', clearCart);

        applyCouponBtn.addEventListener('click', applyCoupon);

        couponCodeInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                applyCoupon();
            }
        });

        checkoutBtn.addEventListener('click', () => {
            if (cart.length === 0) {
                alert('Seu carrinho está vazio! Adicione produtos antes de finalizar a compra.');
                return;
            }
            
            if (!currentUser) {
                alert('Faça login para finalizar a compra!');
                return;
            }
            
            updateOrderSummary();
            
            cartModal.classList.remove('active');
            checkoutModal.classList.add('active');
            overlay.classList.add('active');
        });

        closeCheckout.addEventListener('click', () => {
            checkoutModal.classList.remove('active');
            overlay.classList.remove('active');
        });

        // Sistema de pedir jogo
        suggestedGames.forEach(game => {
            game.addEventListener('click', function() {
                const gameName = this.getAttribute('data-game');
                const encodedMessage = encodeURIComponent(`Olá BlackDz Store! Gostaria de saber o preço do jogo: ${gameName}`);
                window.open(`https://wa.me/5522981636278?text=${encodedMessage}`, '_blank');
            });
        });

        requestGameBtn.addEventListener('click', () => {
            const gameName = gameSearchInput.value.trim();
            let message = 'Gostaria de consultar o preço de um jogo da Steam';
            
            if (gameName) {
                message = `Olá BlackDz Store! Gostaria de saber o preço do jogo: ${gameName}`;
                gameSearchInput.value = '';
            }
            
            const encodedMessage = encodeURIComponent(message);
            window.open(`https://wa.me/5522981636278?text=${encodedMessage}`, '_blank');
        });

        requestItemBtn.addEventListener('click', () => {
            const message = 'Olá BlackDz Store! Gostaria de solicitar um item específico para a loja.';
            const encodedMessage = encodeURIComponent(message);
            window.open(`https://wa.me/5522981636278?text=${encodedMessage}`, '_blank');
        });

        // Menu mobile
        mobileMenuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });

        // Tabs do admin
        adminTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const tabName = this.getAttribute('data-tab');
                
                adminTabs.forEach(t => t.classList.remove('active'));
                adminContents.forEach(c => c.classList.remove('active'));
                
                this.classList.add('active');
                document.getElementById(`${tabName}-content`).classList.add('active');
            });
        });

        // Chat do admin
        sendMessageBtn.addEventListener('click', sendChatMessage);

        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendChatMessage();
            }
        });

        // Criar cupom
        createCouponBtn.addEventListener('click', createNewCoupon);

        // Inicializar
        initLoginSystem();
        
        if (currentUser) {
            initializeProducts();
            updateCart();
        }

        // Configurar PIX
        pixKeyElement.textContent = `22981636278`;

        // Funções globais para admin - DEVEM ser definidas como propriedades do window
        window.viewOrderDetails = function(orderId) {
            const orders = adminSystem.getOrders();
            const order = orders.find(o => o.id === orderId);
            
            if (order) {
                let details = `Pedido #${order.id}\n`;
                details += `Cliente: ${order.userName}\n`;
                details += `Data: ${new Date(order.createdAt).toLocaleString('pt-BR')}\n`;
                details += `Status: ${order.status}\n`;
                details += `Subtotal: R$ ${order.subtotal.toFixed(2)}\n`;
                details += `Desconto: R$ ${order.discount.toFixed(2)}\n`;
                details += `Total: R$ ${order.total.toFixed(2)}\n\n`;
                details += `Produtos:\n`;
                
                order.items.forEach(item => {
                    details += `• ${item.name} x${item.quantity} - R$ ${(item.price * item.quantity).toFixed(2)}\n`;
                });
                
                alert(details);
            }
        };

        window.updateOrderStatus = function(orderId, status) {
            if (adminSystem.updateOrderStatus(orderId, status)) {
                loadAdminOrders();
                alert(`Pedido #${orderId} atualizado para: ${status === 'completed' ? 'Concluído' : 'Cancelado'}`);
            }
        };

        window.toggleCoupon = function(code) {
            const newStatus = adminSystem.toggleCoupon(code);
            loadAdminCoupons();
            alert(`Cupom ${code} ${newStatus ? 'ativado' : 'desativado'} com sucesso!`);
        };
    </script>
</body>
</html>
